<!DOCTYPE html>
<html class="h-100" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:replace="fragments/head :: header" />
    <title>Tournament Bracket Generator</title>

    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="http://underscorejs.org/underscore-min.js"></script>
</head>

<body class="d-flex flex-column h-100 body">
    <!-- Reemplazo del header desde el archivo nav.html -->
    <header th:replace="fragments/nav.html :: nav"></header>

    <div id="add" class="metroBtn">Add Bracket</div>
    <div id="brackets" class="brackets">
        <div th:attr="class='group' + ${tournament.rounds}" id="b0">
            <div th:each="i: ${#numbers.sequence(1, tournament.rounds)}" th:attr="class='r' + ${i}">
                
                <div th:each="match : ${matches}" th:if="${match.roundNumber == i}" id="conEquipos" class="bracketbox">
                    <span class="info"></span>
                    <span class="teama" th:text="${match.team1 != null ? match.team1.name : 'EMPTY'}"></span>
                    <span class="teamb" th:text="${match.team2 != null ? match.team2.name : 'EMPTY'}"></span>

                </div>
                <div th:each="j: ${#numbers.sequence(1, partidosRondaJugables[i-1])}" th:if="${!partidosRonda.containsKey(i) && (i != tournament.rounds)}" id="sinEquipos" class="bracketbox">
                    <span class="info"></span>
                    <span class="teama" >EMPTY</span>
                    <span class="teamb">EMPTY</span>
                </div>
                <div th:if="${i == tournament.rounds}">
                    <div class="final">
                        <div class="bracketbox">
                            <span class="teamc">EMPTY</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- th:text="${match.team1.name} 
        <div id="add" class="metroBtn">Add Bracket</div>
    <div id="brackets" class="brackets"></div> -->

    <!-- <script th:inline="javascript">
        var teams = /*[[${teams}]]*/[];
    </script>

    <script th:inline="javascript">
        var numTeams = /*[[${numTeams}]]*/[];
    </script> -->

    <!-- Reemplazo del footer desde el archivo footer.html -->
    <th:block th:replace="fragments/footer.html :: footer" />
</body>

</html>